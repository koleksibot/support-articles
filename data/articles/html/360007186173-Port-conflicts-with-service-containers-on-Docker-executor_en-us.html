<p>With many service containers you use on CircleCI it's not possible to change the ports for the container during the job run time. <span style="background-color: #f6d5d9;">We</span> bind container ports to <strong>localhost</strong> automatically, and this can be an issue when multiple service containers require the same port. Such as two postgres databases. Consider the example below: </p>
<p>version: 2<br>jobs:<br>  build:<br>    # The primary container is an instance of the first image listed.<br>    docker:<br>      - image: circleci/node:4.8.2-jessie<br><strong>      - image: postgres</strong><strong>:11-alpine-ram</strong><br><strong>      - image: postgres:11-alpine-ram</strong><br><br>Both postgres service images will attempt to bind to localhost:5432 and cause an error. You can prevent this by providing a name to your image which will be used as a hostname to bind the image ports to.</p>
<p>  docker:<br>    - image: circleci/node:4.8.2-jessie<br>    - image: postgres:11-alpine-ram<br><strong>    - image: postgres:11-alpine-ram</strong><br><strong>        name: postgres2</strong></p>
<p>Providing the name parameter will allow the second container to be accessed from <strong>postgres2:5432</strong> and the first postgres container from <strong>localhost:5432<br><br></strong></p>
<p>Further reading:<br><a href="https://circleci.com/docs/2.0/configuration-reference/#docker">https://circleci.com/docs/2.0/configuration-reference/#docker</a></p>