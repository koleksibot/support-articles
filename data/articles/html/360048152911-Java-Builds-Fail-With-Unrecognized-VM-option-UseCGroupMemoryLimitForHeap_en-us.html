<p><span>Java builds fail with the error:<br></span></p>
<pre>Unrecognized VM option 'UseCGroupMemoryLimitForHeap'<br>Error: Could not create the Java Virtual Machine.<br>Error: A fatal exception has occurred. Program will exit.</pre>
<p><span><br>On August 17th, 2020 CircleCI updated the Android convenience image from Java JDK 8 to JDK 11. </span><code>UseCGroupMemoryLimitForHeap</code><span> has been removed completely in JDK 11 and replaced with </span><code>UseContainerSupport</code><span>.<br><br>Customers should modify their Java options to make use of <code>UseContainerSupport</code> instead.<br><br>You can read more about our announcement of this change here<br><a href="https://discuss.circleci.com/t/android-convenience-image-moving-to-java-v11-on-august-17th/36601">https://discuss.circleci.com/t/android-convenience-image-moving-to-java-v11-on-august-17th/36601</a><br><br>This documentation from the eclipse organization may be helpful (</span><a href="https://www.eclipse.org/openj9/docs/xxusecontainersupport/" rel="noreferrer">https://www.eclipse.org/openj9/docs/xxusecontainersupport/</a><span> for more information on this feature.</span></p>
<p>An additional, but not directly related issue to the above error, is that you may need to increment your cache keys `restore_cache`, `save_cache` as there may have build data from Java 8 that will also cause build issues from the upgrade.</p>
<p>As always, please do feel free to reach out to <a href="mailto:support@circleci.com">support@circleci.com</a> and we can help you through this process.</p>