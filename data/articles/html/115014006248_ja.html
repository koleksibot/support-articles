<p>CircleCI ビルドで、次のようなエラーが出た場合: </p>
<p><code>/bin/bash: mongo: command not found</code></p>
<p>これは、リストの最初にあるコンテナ (プライマリコンテナ) ですべてのコマンドが実行されるからです。 これは通常、データベースコンテナ<strong>ではない</strong>ため、プライマリコンテナには多くの場合、<code>mongo</code> cli がインストールされていません。 mysql および postgresql でも同じ現象が発生することがあります。</p>
<p>このような場合、<code>sudo apt install</code>、またはイメージが実行されているディストリビューションに対応するパッケージマネージャーを使用して、クライアントをインストールできます。</p>
<p>例えば：</p>
<pre>- run: sudo apt-get install mongodb-clients</pre>
<p>詳しくは、こちらのDiscussポスト<a href="https://discuss.circleci.com/t/bin-bash-mongo-command-not-found/16218/6?u=tom" target="_blank" rel="noopener">https://discuss.circleci.com/t/bin-bash-mongo-command-not-found/16218/6</a> を参照してください。</p>